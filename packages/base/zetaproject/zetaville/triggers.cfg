// triggers.cfg - zetaville

keytrigger = [
	if (= (getactivecrosshair) 0) [
		echo "Nothing to see here"
	]
	if (= (getactivecrosshair) 1) [
		getitem
	]
] 

level_trigger_13 = [
	getpistolammo (inventory87read)
	getshotgunammo (inventory88read)
	getrifleammo (inventory89read)
	getglammo (inventory90read)
	getchaingunammo (inventory91read)
	getrlammo (inventory92read)
	logvar = 14
]

item_activate_130 = [ // elevator
	sound 83
]

// main building
item_activate_102 = [
	if (= (inventory11read) 0) [
		showgui zetavilleX
	] [
		showgui zetaville0
	]
]
newgui zetavilleX [
	guitext "Please use a valid ZetaProject ID" 0
	guibar
	guibutton "Hmm..." [cleargui] 0
] 0
newgui zetaville0 [
	guitext "Welcome Mary-Jane" 0
	guitext "do you wish to enter?" 0
	guibar
	guibutton "No" [cleargui] 0
	guibutton "Yes" [
		inventoryoverwrite 87 (getpistolstat)
		inventoryoverwrite 88 (getshotgunstat)
		inventoryoverwrite 89 (getriflestat)
		inventoryoverwrite 90 (getglstat)
		inventoryoverwrite 91 (getchaingunstat)
		inventoryoverwrite 92 (getrlstat)
		writegameprogress 11 zetaproject		
		map zetaproject
	] 0
] 0

////////////////////////////////////////////////////////////////////
// zetaville 1 mailbox
item_activate_382 = [
	if (= (inventory68read) 1) [
		echo "this one is empty"
	] [
		showgui pickupnote
	]
]
// zetaville 2-12 mailbox
item_activate_383 = [
	echo "this one is empty"
]
// zetaville 2-12 enter
item_activate_384 = [
	echo "this one is locked"
]
// zetaville 4 enter
item_activate_385 = [
	if (= (inventory69read) 1) [
		showgui zetaville4
	] [
		echo "this one is locked"
	]
]

newgui readnote [
	if (= (inventory69read) 0) [
		inventorywrite 69 1 0
	]
	guitext "How-diddly-do neighbour :-)" 0
	guitext "" 0
	guitext "Here are the key to our house" 0
	guitext "" 0
	guitext "Thank you for looking after the house" 0
	guitext "While were gone" 0
	guitext "" 0
	guibutton "Close" [cleargui] 0
] 0

newgui pickupnote [
	guitext "Theres a note in the mailbox" 0
	guitext "You can reach it with your fingers" 0
	guibar
	guibutton "Leave it" [cleargui] 0
	guibutton "Take the note" [inventorywrite 68 1 0] 0
] 0

newgui zetaville4 [
	guitext "do you wish to enter?" 0
	guibar
	guibutton "No" [cleargui] 0
	guibutton "Yes" [
		getpistolammo (inventory87read)
		getshotgunammo (inventory88read)
		getrifleammo (inventory89read)
		getglammo (inventory90read)
		getchaingunammo (inventory91read)
		getrlammo (inventory92read)
		writegameprogress 9 zetaproject		
		map zetaville4
	] 0
] 0

////////////////////////////////////////////////////////////////////////////////
monster_dead_0 = [ // ogro
	addplayerexp 20
	echo "You have gained experience"
]
monster_dead_1 = [ // rihno
	addplayerexp 30
	echo "You have killed a rihno"
]
monster_dead_2 = [ // ratamahatta
	addplayerexp 30
	echo "You have killed a ratamahatta"
]
monster_dead_3 = [ // slith
	addplayerexp 30
	echo "You have killed a slith"
]
monster_dead_4 = [ // bauul
	addplayerexp 30
	echo "You have killed a bauul"
]
monster_dead_5 = [ // hellpig
	addplayerexp 30
	echo "You have killed a hellpig"
]
monster_dead_6 = [ // knight
	addplayerexp 50
	echo "You have killed a knight"
]
monster_dead_7 = [ // goblin
	addplayerexp 30
	echo "You have killed a goblin"
]
monster_dead_8 = [ // spider
	addplayerexp 30
	echo "You have killed a spider"
]
monster_dead_9 = [ // soldier
	addplayerexp 30
	echo "You have killed a soldier"
]
monster_dead_10 = [ // box
	x = (+ (rnd 20) 1)
	getpistolammo $x
	inventorywrite 87 $x 0
	echo (concatword "you found " $x " pistol-ammo")
]
monster_dead_11 = [ // rat
	addplayerexp 10
	echo "You have killed a rat"
]
