// inventory.cfg

itemnum = 74
selected = 0

itemname0 = "q"
itemweight0 = 0
itemvalue0 = 0
itemstory0 = [Mouseover an item to view its properties]
macro itemaction0 [echo "0"]
itemname1 = "brawndo"
itemweight1 = 1
itemvalue1 = 2
itemstory1 = [Brawndo-leafs have healing properties]
macro itemaction1 [inventorywrite 1 -1 1; gethealing 10]
itemname2 = "mushroom"
itemweight2 = 1
itemvalue2 = 4
itemstory2 = [This mushroom doesnt seam eatable]
macro itemaction2 [inventorywrite 2 -1 1; getpoison 25]
itemname3 = "money"
itemweight3 = 0
itemvalue3 = 1
itemstory3 = [Will buy you anything but love]
macro itemaction3 [echo "3"]
itemname4 = "carrot"
itemweight4 = 2
itemvalue4 = 2
itemstory4 = [Carrots restore 5 points health]
macro itemaction4 [inventorywrite 4 -1 2; gethealing 5]
itemname5 = "book"
itemweight5 = 2
itemvalue5 = 10
itemstory5 = [An old book, maybe worth a few Credits]
macro itemaction5 [echo "5"; showgui readbook]
itemname6 = "winebottle"
itemweight6 = 1
itemvalue6 = 1
itemstory6 = [A bottle of wine]
macro itemaction6 [echo "6"]
itemname7 = "folder"
itemweight7 = 0
itemvalue7 = 0
itemstory7 = [A folder with documents (click to read)]
macro itemaction7 [echo "7"; showgui memo]
itemname8 = "firstaid"
itemweight8 = 1
itemvalue8 = 50
itemstory8 = [firstaid restores 50 points of health]
macro itemaction8 [inventorywrite 8 -1 1; gethealing 50]
itemname9 = "shovel"
itemweight9 = 2
itemvalue9 = 20
itemstory9 = [An old shovel]
macro itemaction9 [echo "9"; selected = 9; showgui dropitem]
itemname10 = "laptop"
itemweight10 = 4
itemvalue10 = 100
itemstory10 = [A laptop]
macro itemaction10 [echo "10"; selected = 10; showgui dropitem]
itemname11 = "idcard"
itemweight11 = 0
itemvalue11 = 0
itemstory11 = [Zeta-Project id-card]
macro itemaction11 [echo "11"]
itemname12 = "drill"
itemweight12 = 2
itemvalue12 = 25
itemstory12 = [A battery-powered drill]
macro itemaction12 [echo "12"; selected = 12; showgui dropitem]
itemname13 = "joint"
itemweight13 = 1
itemvalue13 = 10
itemstory13 = [This cigaret smells funny]
macro itemaction13 [inventorywrite 13 -1 1; gethealing 10]
itemname14 = "can01"
itemweight14 = 1
itemvalue14 = 10
itemstory14 = [Canned food]
macro itemaction14 [inventorywrite 14 -1 1; gethealing 20]
itemname15 = "can02"
itemweight15 = 1
itemvalue15 = 10
itemstory15 = [Canned food]
macro itemaction15 [inventorywrite 15 -1 1; gethealing 20]
itemname16 = "can03"
itemweight16 = 1
itemvalue16 = 10
itemstory16 = [Canned food]
macro itemaction16 [inventorywrite 16 -1 1; gethealing 20]
itemname17 = "can04"
itemweight17 = 1
itemvalue17 = 10
itemstory17 = [Canned food]
macro itemaction17 [inventorywrite 17 -1 1; gethealing 20]
itemname18 = "can05"
itemweight18 = 1
itemvalue18 = 10
itemstory18 = [Canned food]
macro itemaction18 [inventorywrite 18 -1 1; gethealing 20]
itemname19 = "can06"
itemweight19 = 1
itemvalue19 = 10
itemstory19 = [Canned food]
macro itemaction19 [inventorywrite 19 -1 1; gethealing 20]
itemname20 = "can07"
itemweight20 = 1
itemvalue20 = 10
itemstory20 = [Canned food]
macro itemaction20 [inventorywrite 20 -1 1; gethealing 20]
itemname21 = "can08"
itemweight21 = 1
itemvalue21 = 10
itemstory21 = [Canned food]
macro itemaction21 [inventorywrite 21 -1 1; gethealing 20]
itemname22 = "can09"
itemweight22 = 1
itemvalue22 = 10
itemstory22 = [Canned food]
macro itemaction22 [inventorywrite 22 -1 1; gethealing 20]
itemname23 = "can10"
itemweight23 = 1
itemvalue23 = 10
itemstory23 = [Canned food]
macro itemaction23 [inventorywrite 23 -1 1; gethealing 20]
itemname24 = "cup"
itemweight24 = 1
itemvalue24 = 250
itemstory24 = [A cool cup, must be worth a LOT of money]
macro itemaction24 [echo "24"]
itemname25 = "beerbottle"
itemweight25 = 1
itemvalue25 = 1
itemstory25 = [Remember to recycle]
macro itemaction25 [echo "25"]
itemname26 = "ducky"
itemweight26 = 1
itemvalue26 = 5
itemstory26 = [A rubber duck]
macro itemaction26 [echo "26"; sound 91]
itemname27 = "fern"
itemweight27 = 1
itemvalue27 = 4
itemstory27 = [Fern-seeds are not known for their great taste]
macro itemaction27 [inventorywrite 27 -1 1; gethealing 10]
itemname28 = "wrench"
itemweight28 = 1
itemvalue28 = 20
itemstory28 = [A large wrench]
macro itemaction28 [echo "28"; selected = 28; showgui dropitem]
itemname29 = "fuse"
itemweight29 = 0
itemvalue29 = 0
itemstory29 = [A large fuse]
macro itemaction29 [echo "29"]
itemname30 = "guitar"
itemweight30 = 2
itemvalue30 = 50
itemstory30 = [A guitar]
macro itemaction30 [echo "30"; selected = 30; showgui dropitem]
itemname31 = "pizza"
itemweight31 = 1
itemvalue31 = 25
itemstory31 = [A cold pizza]
macro itemaction31 [inventorywrite 31 -1 1; gethealing 3]
itemname32 = "banana"
itemweight32 = 1
itemvalue32 = 4
itemstory32 = [A banana]
macro itemaction32 [inventorywrite 32 -1 1; gethealing 10]
itemname33 = "butterfly"
itemweight33 = 0
itemvalue33 = 25
itemstory33 = [A pretty butterfly]
macro itemaction33 [echo "33"]
itemname34 = "rock"
itemweight34 = 100
itemvalue34 = 1
itemstory34 = [A rock]
macro itemaction34 [echo "34"; selected = 34; showgui dropitem]
itemname35 = "vase"
itemweight35 = 2
itemvalue35 = 40
itemstory35 = [vase]
macro itemaction35 [echo "35"; selected = 35; showgui dropitem]
itemname36 = "rockyrose"
itemweight36 = 1
itemvalue36 = 4
itemstory36 = [Rockyrose]
macro itemaction36 [inventorywrite 36 -1 1; gethealing 10]
itemname37 = "devilswine"
itemweight37 = 1
itemvalue37 = 4
itemstory37 = [Devilswine]
macro itemaction37 [inventorywrite 37 -1 1; getpoison 10]
itemname38 = "trout"
itemweight38 = 1
itemvalue38 = 4
itemstory38 = [A large trout]
macro itemaction38 [inventorywrite 38 -1 1; gethealing 25]
itemname39 = "apple"
itemweight39 = 1
itemvalue39 = 4
itemstory39 = [An apple a day, keeps the docter away... if you can hit him]
macro itemaction39 [inventorywrite 39 -1 1; gethealing 5]
itemname40 = "pear"
itemweight40 = 1
itemvalue40 = 4
itemstory40 = [A pear]
macro itemaction40 [inventorywrite 40 -1 1; gethealing 5]
itemname41 = "onion"
itemweight41 = 1
itemvalue41 = 4
itemstory41 = [An onion]
macro itemaction41 [inventorywrite 41 -1 1; gethealing 5]
itemname42 = "tomato"
itemweight42 = 1
itemvalue42 = 4
itemstory42 = [A tomato]
macro itemaction42 [inventorywrite 42 -1 1; gethealing 5]
itemname43 = "bellpepper"
itemweight43 = 1
itemvalue43 = 4
itemstory43 = [A bellpepper]
macro itemaction43 [inventorywrite 43 -1 1; gethealing 10]
itemname44 = "garlic"
itemweight44 = 1
itemvalue44 = 4
itemstory44 = [A garlic]
macro itemaction44 [inventorywrite 44 -1 1; gethealing 10]
itemname45 = "can"
itemweight45 = 1
itemvalue45 = 40
itemstory45 = [This energy drink, will restore half of the players energy, click to consume]
macro itemaction45 [inventorywrite 45 -1 1; getenergy 256]
itemname46 = "hammer"
itemweight46 = 1
itemvalue46 = 40
itemstory46 = [A hammer]
macro itemaction46 [echo "46"; selected = 46; showgui dropitem]
itemname47 = "lucidium"
itemweight47 = 1
itemvalue47 = 4
itemstory47 = [For a god night sleep, and then some]
macro itemaction47 [inventorywrite 47 -1 1; getpoison 50]
itemname48 = "skunkfeet"
itemweight48 = 1
itemvalue48 = 4
itemstory48 = [Desipte its name, skunkfeet are actually quite delicious]
macro itemaction48 [inventorywrite 48 -1 1; gethealing 70]
itemname49 = "amanita"
itemweight49 = 1
itemvalue49 = 4
itemstory49 = [A very deadly mushroom]
macro itemaction49 [inventorywrite 49 -1 1; getpoison 50]
itemname50 = "chips"
itemweight50 = 1
itemvalue50 = 4
itemstory50 = [An ordinary bag of chips]
macro itemaction50 [inventorywrite 50 -1 1; gethealing 1]
itemname51 = "silvercup"
itemweight51 = 1
itemvalue51 = 50
itemstory51 = [A silvercup]
macro itemaction51 [echo "51"; selected = 51; showgui dropitem]
itemname52 = "silverplate"
itemweight52 = 1
itemvalue52 = 50
itemstory52 = [A silverplate]
macro itemaction52 [echo "52"; selected = 52; showgui dropitem]
itemname53 = "ruby"
itemweight53 = 1
itemvalue53 = 400
itemstory53 = [A ruby]
macro itemaction53 [echo "53"; selected = 53; showgui dropitem]
itemname54 = "saphire"
itemweight54 = 1
itemvalue54 = 500
itemstory54 = [A saphire]
macro itemaction54 [echo "54"; selected = 54; showgui dropitem]
itemname55 = "labnotes"
itemweight55 = 0
itemvalue55 = 0
itemstory55 = [A folder with documents (click to read)]
macro itemaction55 [echo "55"; showgui labnotes]
itemname56 = "mortar"
itemweight56 = 1
itemvalue56 = 500
itemstory56 = [A mortar and pestle]
macro itemaction56 [echo "56"]
itemname57 = "manapotion"
itemweight57 = 0
itemvalue57 = 50
itemstory57 = [A manapotion]
macro itemaction57 [echo "57"]
itemname58 = "healthpotion"
itemweight58 = 0
itemvalue58 = 50
itemstory58 = [A healthpotion, provides 25 health]
macro itemaction58 [inventorywrite 58 -1 1; gethealing 25]
itemname59 = "ladle"
itemweight59 = 1
itemvalue59 = 12
itemstory59 = [A ladle for cooking]
macro itemaction59 [echo "59"]
itemname60 = "inkwell"
itemweight60 = 1
itemvalue60 = 12
itemstory60 = [An inkwell and quill]
macro itemaction60 [echo "60"]
itemname61 = "bread"
itemweight61 = 1
itemvalue61 = 12
itemstory61 = [A bread provides 25 health]
macro itemaction61 [inventorywrite 61 -1 1; gethealing 25]
itemname62 = "goldcoin"
itemweight62 = 0
itemvalue62 = 10
itemstory62 = [A goldcoin for trading]
macro itemaction62 [echo "62"]
itemname63 = "silvercoin"
itemweight63 = 0
itemvalue63 = 1
itemstory63 = [A silvercoin for trading]
macro itemaction63 [echo "63"]
itemname64 = "pickaxe"
itemweight64 = 5
itemvalue64 = 10
itemstory64 = [A pickaxe for mining minerals]
macro itemaction64 [echo "64"]
itemname65 = "tongs"
itemweight65 = 2
itemvalue65 = 5
itemstory65 = [Tongs]
macro itemaction65 [echo "65"]
itemname66 = "basket"
itemweight66 = 2
itemvalue66 = 5
itemstory66 = [An ordinary basket]
macro itemaction66 [echo "66"]
itemname67 = "broom"
itemweight67 = 3
itemvalue67 = 15
itemstory67 = [A primitive broom]
macro itemaction67 [echo "67"]
itemname68 = "note"
itemweight68 = 0
itemvalue68 = 0
itemstory68 = [A note, click to read]
macro itemaction68 [echo "68"; showgui readnote]
itemname69 = "key"
itemweight69 = 0
itemvalue69 = 0
itemstory69 = [The key to ZetaValley nr. 4]
macro itemaction69 [echo "69"]
itemname70 = "rope"
itemweight70 = 10
itemvalue70 = 1
itemstory70 = [A rope]
macro itemaction70 [echo "70"; selected = 70; showgui dropitem]
itemname71 = "lockpick"
itemweight71 = 0
itemvalue71 = 25
itemstory71 = [A standard lockpick]
macro itemaction71 [echo "71"]
itemname72 = "folder"
itemweight72 = 0
itemvalue72 = 0
itemstory72 = [A folder with documents (click to read)]
macro itemaction72 [echo "72"; showgui coordinates]
itemname73 = "phone"
itemweight73 = 3
itemvalue73 = 0
itemstory73 = [An alien communication device (click to activate)]
macro itemaction73 [echo "73"; showgui aliencomm]

itemname = [getalias (concatword "itemname" (if (> $numargs 0) [result $arg1] [result $itemname]))]
itemweight = [getalias (concatword "itemweight" (if (> $numargs 0) [result $arg1] [result $itemweight]))]
itemstory = [getalias (concatword "itemstory" (if (> $numargs 0) [result $arg1] [result $itemstory]))]
itemaction = [getalias (concatword "itemaction" (if (> $numargs 0) [result $arg1] [result $itemaction]))]

weaponname80 = "crowbar"
weaponstory80 = [A crowbar with the initials G.F.]
macro weaponaction80 [echo "80"; setweapon FI]
weaponname81 = "pistol"
weaponstory81 = [An old revolver]
macro weaponaction81 [echo "81"; setweapon PI]
weaponname82 = "shotgun"
weaponstory82 = [A boublebarrel shotgun]
macro weaponaction82 [echo "82"; setweapon SG]
weaponname83 = "rifle"
weaponstory83 = [A high calliber rifle]
macro weaponaction83 [echo "83"; setweapon RL]
weaponname84 = "gl"
weaponstory84 = [A grenade launcher]
macro weaponaction84 [echo "84"; setweapon GL]
weaponname85 = "pistol"
weaponstory85 = [A chaingun]
macro weaponaction85 [echo "85"; setweapon CG]
weaponname86 = "rocket"
weaponstory86 = [A rocket launcher]
macro weaponaction86 [echo "86"; setweapon RL]

//itemname87 = "Cartridges"
//itemstory87 = [Ammo for the pistol]
//macro itemaction87 [echo "87"; setweapon PI]

newgui hotkeysetup [
	it = ($pmidx)
	iw = (concatword "itemweight" ($it))
	ia = (concatword "itemaction" ($it))
	guibutton "set to hotkey 0" [
		bind "0" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 1" [
		bind "1" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 2" [
		bind "2" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 3" [
		bind "3" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 4" [
		bind "4" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 5" [
		bind "5" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 6" [
		bind "6" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 7" [
		bind "7" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 8" [
		bind "8" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibutton "set to hotkey 9" [
		bind "9" (concat "inventorywrite" ($it) -1 ($iw) ";" ($ia))
		showgui inventory
	]
	guibar
	guibutton "cancel" [showgui inventory]
] "hotkeysetup"

// standard hotkeys:
// bind "1" [setweapon FI]
// bind "2" [setweapon PI]
// bind "3" [setweapon SG]
// bind "4" [inventorywrite 8 -1 1; gethealing 50]
// bind "5" [setweapon GL]
// bind "6" [setweapon CG]
// bind "7" [setweapon RI]
// bind "8" [setweapon RL]

newgui inventory [
	guistayopen [
		guilist [
			guilist [
				guitextbox " " 1 0
				loop i $itemnum [
					if (!= (inventoryread ($i)) 0) [
						guiimage (concatword "packages/icons/" (itemname $i) ".png") [echo $i] .5 .5
					]
				]
			] 
			guilist [
				guitextbox "item" 10 0
				loop i $itemnum [
					if (!= (inventoryread ($i)) 0) [
						guibutton (itemname $i) ((concatword "itemaction" ($i)) $i) 0
					]
				]
			] 
			guilist [
				guitextbox "amt." 4 0
				loop i $itemnum [
					if (!= (inventoryread ($i)) 0) [
						guitext (inventoryread ($i)) 0
					]
				]
			]
			guilist [
				guitextbox "weight" 6 0
				loop i $itemnum [
					if (!= (inventoryread ($i)) 0) [
						guitext ((concatword "itemweight" ($i))) 0
					]
				]
			]
			guilist [
				guitextbox "value" 5 0
				loop i $itemnum [
					if (!= (inventoryread ($i)) 0) [
						guitext ((concatword "itemvalue" ($i))) 0
					]
				]
			]
			guibar
			pmidx = 0
			pmidx = (at $guirolloveraction 1)
			pmidx = (max 0 (min (- $itemnum 1) $pmidx))
			guilist [
				guimodelpreview (mapmodelname $pmidx) "inventory" [showgui hotkeysetup] 4 1
			]
			guibar
			guilist [
				guitextbox " " 20 0
				guitextbox (itemstory (at $guirolloveraction 1)) 20 9
			]
		]
		guibar
		guitext (concatword "CarryWeight: " (getcarryweight)) 0
		guitext (concatword "MaxCarryWeight: " (getmaxcarryweight)) 0
		guitab weapons
		guilist [
			guilist [
				guitextbox " " 3 0
				guitext "-" 0
				if (!= (getpistolstat) 0) [
					guitext ((getpistolstat)) 0
				] 0
				if (!= (getshotgunstat) 0) [
					guitext ((getshotgunstat)) 0
				] 0
				if (!= (getriflestat) 0) [
					guitext ((getriflestat)) 0
				] 0
				if (!= (getglstat) 0) [
					guitext ((getglstat)) 0
				] 0
				if (!= (getchaingunstat) 0) [
					guitext ((getchaingunstat)) 0
				] 0
				if (!= (getrlstat) 0) [
					guitext ((getrlstat)) 0
				] 0
			] 
			guilist [
				guitextbox " " 10 0
				guibutton "crowbar" [echo "80";	setweapon FI] 0
				if (!= (getpistolstat) 0) [
					guibutton pistol [echo "81"; setweapon PI] 0
				]
				if (!= (getshotgunstat) 0) [
					guibutton shotgun [echo "82"; setweapon SG] 0
				]
				if (!= (getriflestat) 0) [
					guibutton rifle [echo "83"; setweapon RI] 0
				]
				if (!= (getglstat) 0) [
					guibutton grenade [echo "84"; setweapon GL] 0
				]
				if (!= (getchaingunstat) 0) [
					guibutton chaingun [echo "85"; setweapon CG] 0
				]
				if (!= (getrlstat) 0) [
					guibutton rocket [echo "86"; setweapon RL] 0
				]
			]
			guibar
            guimodelpreview (mapmodelname (at $guirolloveraction 1)) "ammo" [cleargui] 4 1
			guibar
			weponidx = (at $guirolloveraction 1)
			guilist [
				guitextbox " " 10 0
				if (= $weponidx 0) [
					guitextbox "mouseover an item to view its propertys" 10 6
				]
				if (= $weponidx 80) [
					guitextbox "A crowbar with the initials G.F." 10 6
				]
				if (= $weponidx 81) [
					guitextbox "An old revolver" 10 6
				]
				if (= $weponidx 82) [
					guitextbox "A double barrel shotgun" 10 6
				]
				if (= $weponidx 83) [
					guitextbox "A high caliber rifle" 10 6
				]
				if (= $weponidx 84) [
					guitextbox "A grenade launcher" 10 6
				]
				if (= $weponidx 85) [
					guitextbox "A chaingun for clearing the way" 10 6
				]
				if (= $weponidx 86) [
					guitextbox "A rocket launcher" 10 6
				]
			]
		]
		guitab character
		guilist [
			guilist [
				guiplayerpreview $playermodel 0 6 0 4 1
			]
			guibar
			guilist [
				guitext (concatword "Playername: " (getname)) 0
				guitext (concatword "Kills: " (getfrags)) 0
				guitext (concatword "Deaths: " (getdeaths)) 0
				guitext (concatword "Accuracy: " (getaccuracy)) 0
				guitext (concatword "Totalshots: " (gettotalshots)) 0
				guitext (concatword "Level: " (getplayerlvl)) 0
				guitext (concatword "Health: " (gethealthstat)) 0
				guitext (concatword "MaxHealth: " (getmaxhealthstat)) 0
				guitext (concatword "EnergyRegen: " (getenergyregen)) 0
				guitext (concatword "Experience: " (getplayerexp)) 0
			]
		]
		guibar
		guilist [
			guilist [
				if (= (getplayerlvl) 0) [
					if (< (getplayerexp) 100) [
						guitext "you need 100 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 1) [
					if (< (getplayerexp) 200) [
						guitext "you need 200 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 2) [
					if (< (getplayerexp) 400) [
						guitext "you need 400 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 3) [
					if (< (getplayerexp) 800) [
						guitext "you need 800 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 4) [
					if (< (getplayerexp) 1600) [
						guitext "you need 1600 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 5) [
					if (< (getplayerexp) 3200) [
						guitext "you need 3200 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 6) [
					guitext "You have reached top level (7)" 0
				]
				guibutton "logbook" [showgui logbook]
			]
		]
		guitab Stats
//		guitext (concatword "maxhealth: " (getmaxhealthstat)) 0
		guitext (concatword "You have reached level " (getplayerlvl)) 0
		//		guitext "Choose ONE stat to raise 5 point" 0
		guibar
		guilist [
			guilist [
				guitextbox " " 12 0
//				guitext (concatword "You have reached level " (+ $playerlevel 1)) 0
				guitext "Health" 0
				guitext "Armour" 0
				guitext "EnergyRegen" 0
				guitext "MaxCarryWeight" 0
				guitext "Lockpicking" 0
			]
			guilist [
				guitextbox " " 2 0
				if (>= (getmaxhealthstat) 105) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getarmourstat) 10) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getenergyregenint) 1) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getmaxcarryweight) 130) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getlockpicking) 1) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
			]
			guilist [
				guitextbox " " 2 0
				if (>= (getmaxhealthstat) 110) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getarmourstat) 20) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getenergyregenint) 2) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getmaxcarryweight) 140) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getlockpicking) 2) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
			]
			guilist [
				guitextbox " " 2 0
				if (>= (getmaxhealthstat) 115) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getarmourstat) 30) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getenergyregenint) 3) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getmaxcarryweight) 150) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getlockpicking) 3) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
			]
			guilist [
				guitextbox " " 2 0
				if (>= (getmaxhealthstat) 120) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getarmourstat) 40) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getenergyregenint) 4) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getmaxcarryweight) 160) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getlockpicking) 4) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
			]
			guilist [
				guitextbox " " 2 0
				if (>= (getmaxhealthstat) 125) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getarmourstat) 50) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getenergyregenint) 5) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getmaxcarryweight) 170) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
				if (>= (getlockpicking) 5) [
					guitext "" "radio_on"
				] [
					guitext "" "blank"
				]
			]
		]
		guibar
		guilist [
			guilist [
				if (= (getplayerlvl) 0) [
					if (< (getplayerexp) 100) [
						guitext "you need 100 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 1) [
					if (< (getplayerexp) 200) [
						guitext "you need 200 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 2) [
					if (< (getplayerexp) 400) [
						guitext "you need 400 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 3) [
					if (< (getplayerexp) 800) [
						guitext "you need 800 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 4) [
					if (< (getplayerexp) 1600) [
						guitext "you need 1600 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 5) [
					if (< (getplayerexp) 3200) [
						guitext "you need 3200 experience to level up" 0
					] [
						guibutton "level up" [showgui levelup]
					]
				]
				if (= (getplayerlvl) 6) [
					guitext "You have reached top level (7)" 0
				]
				guibutton "logbook" [showgui logbook]
			]
		]
	]
]

////////////////////////////////////////
newgui levelup [
	guistayopen [
		guitext (concatword "You have reached level " (+ (getplayerlvl) 1)) 0
		guitext "Choose ONE stat to raise" 0
		guibar
		guibutton "Health (+5)" [
			addplayerlvl 1
			setmaxhealth (+ (getmaxhealthstat) 5) // add 5 to maxhealth
			cleargui
		]
		guitext "Increses the players maximum health" 0
		guitext " " 0
		guibutton "Energy Regeneration" [
			addplayerlvl 1
			addenergyregen // add 0.1 to energyregeneration
			cleargui
		]
		guitext "Makes energy regenerate quicker" 0
		guitext " " 0
		guibutton "Strength (+10 carryweight)" [
			addplayerlvl 1
			addmaxcarryweight 10 // add 10 to maxcarryweight
			cleargui
		]
		guitext "Enables player to carry more loot" 0
		guitext " " 0
		guibutton "Lockpicking (+1)" [
			addplayerlvl 1
			addlockpicking 1 // add 1 to lockpicking
			cleargui
		]
		guitext "Enables player to open locks" 0
	]
]

newgui readbook [
	guitext "Just some old mythology book" 0
	guitext "Maybe I can get a few coins for it" 0
	guibutton "Back" [showgui inventory]
]

newgui memo [
	guiimage "packages/base/zetaproject/escape/securitymemo.png" 0 8
	guibutton "Back" [showgui inventory]
]

newgui dropitem [
	guitext "do you wish to drop this item?" 0
	guitext "doing so will destroy the item!" 0
	guibutton "Yes..." [
		x = (concatword "itemweight" ($selected))
		itemweight 
		inventorywrite ($selected) -1 ($x)
		showgui inventory
	]
	guibutton "No..." [showgui inventory]
]

newgui coordinates [
	guiimage "packages/base/zetaproject/zetaproject/coordinates.png" 0 8
	guibutton "Back" [showgui inventory]
]
